#   15.1 리액트 프로젝트를 시작할 때 고려해야 할 사항

기존에 클래스 형태로 작성한 컴포넌트를 함수 컴포넌트로 리팩토링할 필요가 굳이 없다. 이유 : 리액트 팀에서 클래스 컴포넌트를 가까운 미래에 사라지게 할 계획 없다고 밝힘

##   상태 관리 라이브러리는 꼭 필요할 때만 사용한다

-   상태 관리 라이브러리 필요 여부 = 애플리케이션에서 관리해야 할 상태가 많은지 여부
    -   관리해야 할 상태가 많고, 여러 상태를 합성해서 또 새로운 상태를 파생하는 등의 상황에 있는 애플리케이션이 아니면 -> 상태 관리 라이브러리를 추가하는 것은 쓸데없이 번들링 크기만 키우는 것이 될 수 있다.
    
##   리액트 의존성 라이브러리 설치를 조심한다

특정 기능을 구현하기 위해 라이브러리를 설치할 때, 리액트에 의존적인 라이브러리를 설치하는 경우가 있다. 이런 라이브러리는 대부분

-   이름이 react-로 시작하고,
    
-   peerDependencies에 리액트가 있다 / 리액트에 대한 의존성을 가진다.
    
-   ex) react-useportal
    
    **문제가 있지만 메인테이너가 현재 활동 중이지 않아서 → 문제를 해결하기 어려움.**
    

이때 `peerDependencies`를 확인해서 프로젝트의 리액트 버전과 맞는지 확인해야한다. 이유 :

-   버전이 맞지 않으면
    -   정상적인 방법으로 설치가 불가능하고,
    -   억지로 설치한다 하더라도 이후 문제를 일으킬 가능성이 크다.
    -   리액트 18에선 외부 상태를 관리하는 방법이 변경돼서 → 특히 리액트 18을 지원하지 않는 라이브러리는 더욱 조심해야 한다. 잘못 설치하면 버그가 발생할 가능성이 크기 때문.

**훅을 사용하면 반드시 16.8 버전 이상인지 확인해야하고, 리액트 18을 사용하고 싶으면 라이브러리도 18을 지원하는지 반드시 확인하기**
    
#   15.2 언젠가 사라질 수도 있는 리액트

리액트만 개발해본 개발자라면 리액트 코드를 작성하는 데 크게 불편함을, 도 대다수의 웹서비스가 리액트로 개발되고 있다는 점에서 만족감을 느낄 수 있다.

_헐 나에요_

그러나 오랜 웹 개발의 역사에서 리액트가 우위를 점한 기간은 그리 길지 않고, 모두가 리액트를 선호하지도, 또 리액트의 대안이 없는 것도 아니다.

##   15.2.1 리액트는 그래서 정말 완벽한 라이브러리인가?

-   가장 널리 쓰이는 프론트엔드 라이브러리이지만, 반대하는 사람들이 많음
    
-   클래스 컴포넌트에서 함수 컴포넌트로 넘어오면서 느껴지는 혼란
    
    요즘은 함수 컴포넌트가 대세라 함수 컴포넌트와 훅에 대해서만 공부하면 된다고 하더라도, 왜 이런 변화가 있었는지, 클래스 컴포넌트는 알아야 하는게 아닌지 하는 찝찝함이 있다.
    
    _맞어.._
    
    반면 스벨트나 뷰는 함수 컴포넌트와 클래스 컴포넌트와 같이 큰 패러다임의 차이가 없기 때문에 초보자가 이해하기 훨씬 편하다.

        
-   훅에 대한 거부감과 어려움
    
-   너무 방대한 자유가 주는 혼란
    
    리액트에서
    
    -   스타일을 입힐 수 있는 방법
        
        -   외부 스타일시트 import
        -   인라인 스타일
        -   styled-components
        
        등
        
    -   상태를 관리하는 방법
        
        -   redux
        -   mobx
        -   jotai
        -   zustand
        
        등
        
    -   데이터를 fetch하는 방법
        
    
    은 다양하다.
    
    앵귤러나 뷰처럼 하나를 배워두면 다른 곳에서도 빠르게 쓸 수 있는 구조가 아니라서 리액트 외에 다른 것들은 새롭게 배워햐 한다.
    
    리액트만이 진리고, 리액트가 모든 프론트엔드 생태계를 통일할 것이라는 리액트 중심적인 생각은 위험하다. 모든 기술이 그렇지만, 프론트엔드 생태계는 그 어떤 분야보다 빠르고 급진적으로 변화하고 있고, 미래엔 무엇이 새롭게 등장할 지 모른다. 리액트를 사실상 표준으로 여기면, 새로운 변화를 받아들이고 유연하게 적응하기 어려울 것이다.
    
    _읽으니까 리액트를 좀 경계하게 된다._

##   15.2.2 오픈소스 생태계의 명과 암

-   페이스북 라이선스 이슈
    
    MIT 라이선스
    
    -   오픈소스 라이선스 중 가장 많이 쓰임
        -   흔히 볼 수 있는 오픈 소스에 많이 쓰임
    
    페이스북의 라이선스
    
    -   bsd+patents
        -   자사의 오픈 소스인 react, immutable, jest 등에 mit 말고 bsd+patents 라이선스 사용했었음
            
        -   다른 라이선스와 다르게 눈에 띄는 조항이 있음 : 이 라이선스를 적용한 소프트웨어에 대해서 특정한 사건이 발생한다면 라이선스가 통지 없이 종료될 수 있다.
            
        -   2017년 아파치 재단에서 bsd+patents 라이선스를 사용하는 것을 금지한다고 밝힘.
            
            → 이 라이선스를 사용하는 페이스북에 많은 이목이 쏠리기 시작함. 그러나 페이스북은 이 조항을 철회할 의사가 없다고 밝힘. → 많은 커뮤니티에서 찬반 논란이 일어남. → 워드프레스 진영에서 라이선스를 바꾸지 않으면 더 이상 자사 소프트웨어에서 리액트를 사용하지 않을 것이라고 밝힘.
            
            이런저런 격론 끝에 결국 페이스북은 해당 특허권을 삭제하고 **mit 라이선스로 넘어감**
            
    
    _오호 이런 역사가 있었구만.. 재밌군_
    
    아파치 재단, 워드 프레스, 많은 개발자들의 관심 덕분에 페이스북 라이선스는 하나의 소동으로 끝났지만, 개발자들에겐 자신이 오픈소스로 만든 소프트웨어에 대한 권리를 한순간에 잃어버릴 수도 있다는 경각심을 갖게 하는 계기가 됐다.
    
-   오픈소스는 무료로 계속 제공될 수 있는가? colors.js, 그리고 바벨
    
    바벨
    
    -   바벨을 사용하기 위해서 돈을 낸 적이 없음
        
    -   오픈 소스로 이뤄져있다
        
    -   풀타임 개발자들을 고용해서 급여를 주고 있다
        
    -   2021년 재정난을 겪고 있다는 글이 올라왔다
        
        -   연간 330000 달러가 필요하고, 이를 위한 모금을 계속하고 있다고 밝힘
        
        _와우 babel 재정적으로 어려움을 겪고 있었구낭.._
        
    
    바벨보다 급진적인 사례 : color.js 사건
    
    -   1.4.0v → 1.4.1로 패치 업데이트
        -   패치 버전은 단순히 버그 수준에 그쳤어야 했는데, 일부러 무한 루프 코드를 커밋해서 1.4.1을 배포해버림
    
    프론트엔드 분야는 거의 제로에 가까운 비용으로 애플리케이션을 만들고 배포해서 사용할 수 있다. package.json의 dependencies엔 각종 라이브러리들이 의존성으로 선언돼 있고, dependencies를 보면 엄청나게 많은 의존성이 꼬리에 꼬리를 물고 있다.
    
    오픈소스 라이브러리의 생태계에 혼란이 온다면? 바벨이 오픈소스를 포기하고 새로운 메인테이너를 찾기 전까지 패키지 관리를 중단한다면? 오픈소스가 이런 상황이라 서비스를 제공하기 어렵다고 방문객들에게 설명할 것인가?
    
    프론트엔드 개발자들은 오픈소스 덕분에 손쉽게 개발하고 있음을 알아야 하고, 오픈소스가 무슨 일을 하고 있는지 알 필요도 있다. 이는 개발자의 호기심을 충족하는 일일 수도 있지만, 지속 가능하고 오래 유지될 수 있는 안정적인 웹서비스를 만들기 위한 필수 요소이기도 하다.
    
##   15.2.3 제이쿼리, angular js, 리액트, 그리고 다음은 무엇인가?

웹 프레임워크의 역사

-   react 2013
-   vue 2014
-   angular 2016
-   svelte 2016

_별로 시간 간격이 넓지 않네_

스프링, php 등의 웹 프레임워크에서 독립해서 프론트엔드 역역의 중요성이 각광받기 시작한 것은 얼마 되지 않았다.

과거엔

-   웹 페이지는 백엔드에 비해 중요성이 떨어졌고, 사용자에게 몇 가지 단순한 상호작용을 보여주기 위한 제한적인 수단으로 사용돼왔다.
-   서버와 웹페이지가 함께 있는 프레임워크가 주를 이뤘다.

시간이 지나면서 점점 프론트엔드 단독 프레임워크가 증가했다.

현재는 대부분의 웹 애플리케이션이 프론트와 백이 분리돼 개발되는 추세다.

리액트의 단점을 틈타 스벨트에 대한 관심이 떠오르고 있다.

리액트의 미래는 예측할 수 없으므로 개발자는 유연한 자세를 지녀야 한다. 우리는 **리액트 개발자가 아니라 웹 개발자라고 자신을 소개할 수 있어야 한다.**

_맞아.. 리액트는 웹 개발 도구일 뿐! 나는 웹 개발자다. 좋은 내용이다_

##   15.2.4 웹 개발자로서 가져야 할 유연한 자세

어떤 프레임워크나 라이브러리를 사용하든 변하지 않는 한 가지 사실 : 웹 페이지를 구성하는 기초 기술은 HTML, CSS, JS.

웹어셈블리와 같이 웹을 구성하는 완전히 새로운 개념이 도입될 수도 있지만, 당분간은 html, css, js가 웹을 구성할 것이다.

-   그렇다고 이 생태계가 계속 이 수준에서 머물러 있을 것은 아니다. 최근엔 느린 자스를 대신할 하나의 방안으로 웹어셈블리가 떠오르고 있다.
    
    -   c, c++ 같은 시스템 프로그래밍 언어로 작성된 프로그램을 웹에서 사용할 수 있게 해준다.
    -   자스보다 훨씬 더 빠른 언어로 작성돼 있음 → 일반적으로 웹에서 자스 기반으로 처리하기 어려운 작업을 처리할 수 있다.
    
    → 자스 개발자들 사이에서 러스트를 배우는 것이 유행
    
    -   그러나 웹어셈블리어는 자스를 대체하는 게 아니라, 자스와 함께 상호 보완적으로 실행되는 도구라고 보는 것이 적절하다. — 성능이 필요한 작업은 웹어셈블리로, 그 밖의 일반적인 작업은 자스로 하는 등

eslint보다 더 빠른, 러스트로 작성한 rome도 주목받고 있다. 웹에서 작동하는 코드를 작성하기 위한 인프라는 자스에서 러스트로 점차 넘어가고 있는 추세다.

_몰 랐 어_

중요한 것 : 모든 웹 개발이 html, css, js를 기반으로 함.

클로저의 개념과 원리, 활용은 리액트에만 해당되지 않고, 비동기 작업도 마이크로 태스크를 활용해 브라우저에서 작업을 처리한다는 사실엔 변함이 없다.

리액트 클래스 컴포넌트의 작동 원리를 이해했다면 → 앵귤러에서 클래스 컴포넌트를 작성할 땐 데코레이터 개념만 추가하면 될 것이다.

라이브러리와 프레임워크는 그저 도구일 뿐, 자스가 토대라는 사실엔 변함이 없다.

리액트 코드 내부를 보는 것이 어렵다면 다시 자스부터 공부해 보는 것을 추천한다.

패키지가 100만 개가 넘는 npm의 세계, 웹사이트가 11억 개가 넘는 인터넷엔 리액트로 돼 있는 것보다 리액트가 아닌 것으로 만들어진 것이 훨씬 더 많다. 리액트를 넘어 다양한 자스 세계를 맛본다면 리액트에 의존적이지 않은 더욱 유연한 개발자가 될 수 있을 것이다.

*이번 장 읽고 스벨트와 러스트에 더 관심이 가기 시작함*
